<p style="font-size: 25px; text-align: center;"><b>Прогресс в разработке сервиса поиска билетов. КТ-2 .</b></p>

<p style="font-size: 20px;"><u>Архитектура.</u></p>

    Мы заложили фундмант архитектуры проекта. Реализовали структуру проекта, запланированную на КТ-1, 
    логически разбили код на директории, написали __init__.py пакеты, связали код корректными и безопасными импортами. 
    Добавили requirments.txt и config файлы для безопасного хранения ключей к API, которые используются в нашем
    проекте.

<p style="font-size: 20px;"><u>Используемые API.</u></p>

    Мы пользуемся API Телеграмма для отправки сообщений, API Яндекс Расписания для поиска билетов и API Openrouters,
    чтобы дать пользователю возможность сравнить время, которое он потратит на дорогу при покупке билетов с временем,
    которое ему потребуется, чтобы добраться до пункта назначения на машине.

<p style="font-size: 20px;"><u>База данных </u></p>
    
    К моменту КТ-2 мы используем реляционную базу данных, состояющую из следующих фрагментов: TFlights, TCarts, Users,
    TRequests. В директории src можно изучить принцип взаимодействия между таблицами. 


<p style="font-size: 20px;"><u>Веб-сервис.</u></p>

    Реализовали основной функционал сайта: добавили регистрацию и возможность входа для зарегистрированных пользователей. 
    Регистрация проходит в два этапа: вначале пользователь вводит свои личные данные: имя, почту и пароль. Информация
    (в том числе хешированный пароль) сохраняется в сесссию. Далее происходит переадресация на "sign_up/tg", где поль-
    зователь делится с веб-сервисом своим телеграмм-аккаунтом. Передача telegram_id реализована через API Telegram. 
    Осуществляется get-запрос на сервер Telegram, который обрабатывается с помощью Form(...). Данные также заносятся в 
    базу данных. После регистрации пользователь получает доступ к основной функции сайта: поиску билетов. Он заполняет
    форму, осуществялет POST запрос на сервер и переадресовывается на страничку с результатами поиска. Для поиска 
    билетов наша команда воспользовалась API Яндекс расписаний. Осуществляется GET запрос на серверы Яндекса. 
    Затем данные выводятся на "search/results". Вывод данных организован в специальных блоках. Для каждого рейса генери-
    руетс отдельный "блок", имеющий уникальный идентификатор, равный TFLights.flight_id. Добавлен css код для отображения
    результатов в виде прямоугольников. Пользователь имеет возможность добавить билет в свою корзину. Количество элементов
    в корзине отображается в левом верхнем углу экрана в виде фиолетовой окружности. При нажатии на неё происходит
    переадресация на "/cart", где пользователь имеет возможность ознакомиться с элементами своей корзины.

<p style="font-size: 20px;"><u>Телеграм-бот</u></p>

    К КТ-2 научили телеграм-бота также отвечать на запросы о рейсах по ключу "/route". Происходит обращение к 
    Яндекс-расписанию, а затем выводится результат. Добавили возможность искать рейсы с пересадками по хендлеру
    "/multiroute". Примечательно, что формат, в котором пользователь вводит пункт назначения гибок: с помощью
    Яндекс Расписаний мы смогли настроить преобразования пункта назначения из пользовательского формата в 
    стандартизованный для поиска билетов. Например, пользователь может написать как "Москва", так и "Moscow".
    Телеграм-бот умеет идентифицировать пользователей по информации, получаемой от сервиса при ре-
    гистрации и может писать им сообщения: виджет настроен так, что бот получает разрешение на отправку сообщений.


<p style="font-size: 20px;"><u>Тестирование возможностей проекта</u></p>

    Реализовали тестирование веб-сервиса и взаимодействия с базой данных, -- основных частей нашего проекта, написали 
    юнит-тесты. Научились моккировать сессию с помощью unitest.mock.Mock и имитировать sql-запросы к базе данных.
    Убедились в корректности работы основных функций. Кроме того, воспользовались Fast API TestClient, чтобы имитировать
    поведение пользователя на сайте. Проверили основные эндпоинты. 

<p style="font-size: 20px;"><u>О будущем нашего проекта</u></p>
    
    К защите мы планируем значительно расширить возможности телеграм-бота: добавить возможность присылать 
    PDF-конспект корзины, уведомлять об изменениях цен, возможно, реализовать подобие fellow-travelers: возможность
    искать в телеграме других пользователей сайта, которые планируют путешествия. Наладить взаимодействие
    между сайтом и ботом.

    Также хотим рвсширить возможности базы данных. Сделать аккуратный репозиторий с безопасными обращениями
    к таблицам базы, умный поиск рейсов по TFlights, которую хотим переработать. Продумать логику и алгоритмы
    поиска рейсов в базе данных, которые бы позволили минимизировать число обращений к API. Это бы заметно уве-
    личило скорость ответов на запросы пользователей.

    Планируем написать CSS оформление веб-сайта, сделать современный дизайн. Уже начали разработку style.css, прикрепляю
    к прогрессу фотографию дизанйна приветственной странички, написанной на CSS.